<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="font-size.css"> 
  <title>å¾…åˆå®¤</title>
</head>

<link rel="stylesheet" href="waitroom.css">

<body>
  <h1>å¾…åˆå®¤</h1>

  <h2><span id="username">Hi [[${loginName}]]</span></h2>

  <div sec:authorize="hasRole('ROLE_ADMIN')" th:object="${class}">
    <h3>ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã‚’é›†è¨ˆã™ã‚‹ç§‘ç›®ã‚’è¿½åŠ </h3>
      <form th:action="@{/addClass}" method="post">
        <input type="text" name="className"/>
        <input type="submit" value="è¿½åŠ "><input type="reset" value="ãƒªã‚»ãƒƒãƒˆ">
      </form>
  </div>

    <h4>åé›†ä¸­ã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</h4>
    <ul>
      <li th:each="class : ${classlist}"><a th:href="@{/class(id=${class.classId})}"> [[${class.className}]]</a></li>
    </ul>

    <h5 id="displaySettings" sec:authorize="hasAnyRole('ROLE_USER','ROLE_ADMIN')">
      ç”»é¢è¨­å®š
      <span style="display:none;">ğŸ‘â€ğŸ—¨</span>
    </h5>
  
    <div id="settingMenu" sec:authorize="hasAnyRole('ROLE_ADMIN', 'ROLE_USER')">
      <p>æ–‡å­—ã‚µã‚¤ã‚ºè¨­å®š</p>
      <button style="display:none;" onclick="fontSizeUp()">A+</button>
      <button style="display:none;"onclick="fontSizeDown()">A-</button>

      <div>
        <label for="letterSpacingRange">å­—é–“</label>
        <input id="letterSpacingRange" type="range" min="-0.5" max="0.5" step="0.1" value="0">
      </div>
    
      <!-- è¡Œé–“èª¿æ•´ -->
      <div>
        <label for="lineHeightRange">è¡Œé–“</label>
        <input id="lineHeightRange" type="range" min="1.2" max="2" step="0.1" value="1.2"> 
      </div>
    
      <!-- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´ -->
      <div>
        <label for="layoutSelect">ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</label>
        <select id="layoutSelect">
          <option value="default">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</option>
          <option value="narrow">ç‹­åˆ—</option>
          <option value="wide">åºƒåˆ—</option>
        </select>
      </div>
    
    </div>
    
    <script>
    // å­—é–“èª¿æ•´
    const letterSpacingRange = document.getElementById('letterSpacingRange');
    letterSpacingRange.addEventListener('input', () => {
      document.body.style.letterSpacing = `${letterSpacingRange.value}em`;
    });
    
    // è¡Œé–“èª¿æ•´ 
    const lineHeightRange = document.getElementById('lineHeightRange');
    lineHeightRange.addEventListener('input', () => {
      document.body.style.lineHeight = lineHeightRange.value; 
    });
    
    // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´
    const layoutSelect = document.getElementById('layoutSelect');
    layoutSelect.addEventListener('change', () => {
      document.body.classList.remove('default', 'narrow', 'wide');
      document.body.classList.add(layoutSelect.value);
    });
    </script>
    </div>
  <br>
  <a href="/logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>

  <div sec:authorize="hasRole('ROLE_ADMIN')">
    <script>
      const h3 = document.querySelector('h3');
      h3.addEventListener('click', () => {
      h3.classList.toggle('open');
  
      const items = document.querySelectorAll('input');
  
      items.forEach(item => {
        item.style.display = h3.classList.contains('open') ? 'block' : 'none';
      });
    });
    </script>
  </div>
</body>


<script>
  window.onload = function() {

// CSSã®ãƒªãƒ­ãƒ¼ãƒ‰ã‚’å¼·åˆ¶çš„ã«å®Ÿè¡Œ
const links = document.getElementsByTagName("link");
for (let i = 0; i < links.length; i++) {
  const link = links[i];
  link.href = link.href; 
}

// ã‚ã‚‹ã„ã¯
// location.reload(true);

}
 
  const h4 = document.querySelector('h4');
  const h5 = document.querySelector('h5');

  h4.addEventListener('click', () => {
    h4.classList.toggle('open');

    const items = document.querySelectorAll('li');

    items.forEach(item => {
      item.style.display = h4.classList.contains('open') ? 'block' : 'none';
    });
  });

  h5.addEventListener('click', () => {
    h5.classList.toggle('open');

    const items = document.querySelectorAll('p, button');

    items.forEach(item => {
      item.style.display = h5.classList.contains('open') ? 'block' : 'none';
    });
  });




const usernameDOM = document.getElementById("username");
usernameDOM.style.fontSize = "20px";
usernameDOM.style.fontWeight = "bold";

function fontSizeUp() {
    document.body.style.fontSize = parseFloat(getComputedStyle(document.body).fontSize) + 1 + 'px';
  }

  // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’ä¸‹ã’ã‚‹é–¢æ•°  
  function fontSizeDown() {
    document.body.style.fontSize = parseFloat(getComputedStyle(document.body).fontSize) - 1 + 'px'; 
  }
  
  const bgInput = document.getElementById("bgColor");

// å€¤ã‚’0-255ã®RGBå€¤ã«å¤‰æ›
const convert = (val) => Math.round((255 * val) / 100);  

bgInput.addEventListener("input", () => {
  const red = convert(bgInput.value); 
  const green = red;
  const blue = red;
  
  const rgbColor = `rgb(${red}, ${green}, ${blue})`; 
  
  document.body.style.backgroundColor = rgbColor;
});

const Username=document.getElementsByName("username");


</script>

</html>